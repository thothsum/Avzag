(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0401":function(t,e,n){},"04dd":function(t,e,n){"use strict";n("6a53")},"0d7c":function(t,e,n){"use strict";n("e38b")},"108f":function(t,e,n){"use strict";n("bcc5")},1531:function(t,e,n){},1816:function(t,e,n){},"18d8":function(t,e,n){"use strict";n("8490")},"233e":function(t,e,n){},"23a1":function(t,e,n){},2467:function(t,e,n){"use strict";n("2590")},2590:function(t,e,n){},2643:function(t,e,n){"use strict";n("1816")},"267e":function(t,e,n){},"2bd4":function(t,e,n){"use strict";n("3b00")},3019:function(t,e,n){"use strict";n("267e")},"334f":function(t,e,n){"use strict";n("7180")},"39b8":function(t,e,n){},"3b00":function(t,e,n){},"44e8":function(t,e,n){"use strict";n("451e")},"451e":function(t,e,n){},"48b1":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n("9c0c")},"5e24":function(t,e,n){},"5f3f":function(t,e,n){"use strict";n("eada")},6039:function(t,e,n){"use strict";n("97af")},"6a53":function(t,e,n){},7180:function(t,e,n){},7721:function(t,e,n){},8463:function(t,e,n){"use strict";n("5e24")},8490:function(t,e,n){},"84ea":function(t,e,n){"use strict";n("ebbb")},"86af":function(t,e,n){},"8bf8":function(t,e,n){"use strict";n("af49")},"8c98":function(t,e,n){"use strict";n("233e")},"91b9":function(t,e,n){},9537:function(t,e,n){},"97af":function(t,e,n){},"9a71":function(t,e,n){},"9c0c":function(t,e,n){},a292:function(t,e,n){"use strict";n("39b8")},a3cd:function(t,e,n){},ab47:function(t,e,n){"use strict";n("f59f")},af49:function(t,e,n){},b2c6:function(t,e,n){"use strict";n("ea1d")},bcc5:function(t,e,n){},c7de:function(t,e,n){"use strict";n("86af")},c7fd:function(t,e,n){"use strict";n("91b9")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.showHeader?n("Header"):t._e(),n("router-view")],1)},s=[],a=(n("caad"),n("b0c0"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"root"}},[n("div",{staticClass:"section row-1 scroll"},[n("Button",{attrs:{icon:"arrow_back"},nativeOn:{click:function(e){return t.navigate("Home")}}}),t._l(t.menus,(function(e){var i=e[0],o=e[1];return n("Button",{key:o,class:{highlight:t.$route.name===i},attrs:{icon:o,text:i},nativeOn:{click:function(e){return t.navigate(i)}}})}))],2)])}),r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:{highlight:t.value},on:{click:t.toggle}},[t.icon?n("p",{staticClass:"icon"},[t._v(t._s(t.icon))]):t._e(),t.text?n("p",[t._v(t._s(t.text))]):t._e()])},l=[],u={name:"Button",props:["value","icon","text"],methods:{toggle:function(){this.$emit("update:value",!this.value)}}},d=u,p=n("2877"),h=Object(p["a"])(d,c,l,!1,null,null,null),f=h.exports,v={name:"Header",components:{Button:f},data:function(){return{menus:[["Phonology","audiotrack"],["Converter","sync_alt"],["Phrasebook","book"]]}},methods:{navigate:function(t){this.$route.name!==t&&this.$router.push({name:t,params:{lang:this.$route.params.lang}})}}},m=v,g=(n("b2c6"),Object(p["a"])(m,a,r,!1,null,"52840dc4",null)),x=g.exports,b=i["a"].extend({name:"App",components:{Header:x},computed:{showHeader:function(){return"Home"!=this.$route.name&&!this.$route.path.includes("/editor/")}},watch:{"$route.path":{handler:function(){this.$route.name&&(localStorage.url=this.$route.path)}}},created:function(){if(this.$store.dispatch("initialize"),this.$route.name&&"Home"!=this.$route.name||this.$router.push(localStorage.url&&localStorage.url!=this.$route.path?{path:localStorage.url}:{name:"Home"}),"Home"!=this.$route.name){var t,e=JSON.parse(null!==(t=localStorage.lects)&&void 0!==t?t:"[]");e&&this.$store.dispatch("loadLects",e)}}}),y=b,k=(n("5c0b"),Object(p["a"])(y,o,s,!1,null,null,null)),_=k.exports,w=n("8c4f"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section col-2 small"},[n("div",{staticClass:"row wrap small card"},[n("router-link",{attrs:{to:"/home"}},[t._v("Home")]),n("p",{staticClass:"text-dot"}),n("router-link",{attrs:{to:"/editor/phonology"}},[t._v("Phonology")]),n("router-link",{attrs:{to:"/editor/converter"}},[t._v("Converter")]),n("router-link",{attrs:{to:"/editor/phrasebook"}},[t._v("Phrasebook")]),n("router-link",{attrs:{to:"/editor/phrasebook/corpus"}},[t._v(" Phrasebook Corpus ")]),n("Button",{attrs:{text:"load from lect"},nativeOn:{click:function(e){return t.loadFromLect(e)}}}),n("Button",{attrs:{text:"load from JSON"},nativeOn:{click:function(e){return t.loadFromJson(e)}}}),n("Button",{attrs:{text:"save JSON to clipboard"},nativeOn:{click:function(e){return t.saveToJson(e)}}}),n("ButtonAlert",{attrs:{text:"Reset"},on:{confirm:t.reset}})],1),n("div",{staticClass:"grid"},[n("ActionHeader",{attrs:{icon:"view_comfy",header:"Phonemes"},on:{action:t.addPhoneme}},[n("div",{staticClass:"row wrap"},t._l(t.file,(function(e,i){return n("PhoneticItem",{key:i,attrs:{selected:t.phoneme==e,ipa:e.phoneme,str:t.graphemes[i]},nativeOn:{click:function(n){t.phoneme=e}}})})),1)]),t.phoneme?n("div",{staticClass:"col-2 small"},[n("ActionHeader",{attrs:{button:"",icon:"hearing",header:"Phoneme"},scopedSlots:t._u([{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.removePhoneme}})]},proxy:!0}],null,!1,3710364482)},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneme.phoneme,expression:"phoneme.phoneme"}],staticClass:"text-ipa",attrs:{type:"text",placeholder:"phoneme"},domProps:{value:t.phoneme.phoneme},on:{input:function(e){e.target.composing||t.$set(t.phoneme,"phoneme",e.target.value)}}})]),n("NotesEditor",{attrs:{notes:t.phoneme.notes},on:{"update:notes":function(e){return t.$set(t.phoneme,"notes",e)}}},[t._v(" You can add notes to clarify certain use cases or to give some additional info. ")]),n("ActionHeader",{attrs:{header:"Samples",icon:"playlist_play"},on:{action:t.addSample},scopedSlots:t._u([{key:"caption",fn:function(){return[t._v(" Use cases of the phoneme within the language, defined by a letter, a word, and the word's ipa. ")]},proxy:!0},{key:"default",fn:function(){return t._l(t.phoneme.samples,(function(e,i){return n("div",{key:i,staticClass:"row sample"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.grapheme,expression:"s.grapheme"}],attrs:{type:"text",placeholder:"grapheme"},domProps:{value:e.grapheme},on:{input:function(n){n.target.composing||t.$set(e,"grapheme",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.word,expression:"s.word"}],staticClass:"flex",attrs:{type:"text",placeholder:"word"},domProps:{value:e.word},on:{input:function(n){n.target.composing||t.$set(e,"word",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ipa,expression:"s.ipa"}],staticClass:"flex text-ipa",attrs:{type:"text",placeholder:"ipa"},domProps:{value:e.ipa},on:{input:function(n){n.target.composing||t.$set(e,"ipa",n.target.value)}}}),n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){return t.removeSample(i)}}})],1)}))},proxy:!0}],null,!1,3135633413)})],1):t._e()],1)])},O=[],S=(n("c975"),n("d81d"),n("a434"),n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row-0"},[t.prompt?[n("Button",{staticClass:"alert",attrs:{icon:"delete_forever"},nativeOn:{click:function(e){return t.emit(e)}}}),n("Button",{attrs:{icon:"check"},nativeOn:{click:function(e){t.prompt=!1}}})]:n("Button",{staticClass:"alert",attrs:{icon:"delete",text:t.text},nativeOn:{click:function(e){t.prompt=!0}}})],2)}),P=[],$={name:"ButtonAlert",components:{Button:f},props:["text"],data:function(){return{prompt:!1}},methods:{emit:function(){this.prompt=!1,this.$emit("confirm")}}},B=$,j=(n("a292"),Object(p["a"])(B,S,P,!1,null,null,null)),E=j.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col"},[n("div",{staticClass:"row"},[t.$slots.action?t._t("action"):t.button?n("Button",{attrs:{icon:t.button},nativeOn:{click:function(e){return t.$emit("action")}}}):t._e(),t.icon?n("p",{staticClass:"icon"},[t._v(t._s(t.icon))]):t._e(),t.header?n("h2",{staticClass:"flex"},[t._v(t._s(t.header))]):t._e(),t._t("header")],2),t.$slots.caption?n("p",{staticClass:"text-caption text-faded"},[t._t("caption")],2):t._e(),t._t("default")],2)},A=[],M={name:"ActionHeader",components:{Button:f},props:{button:{default:"add"},icon:String,header:String}},J=M,T=Object(p["a"])(J,N,A,!1,null,null,null),H=T.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"col-0",class:{"text-faded":t.faded,highlight:t.selected}},[n("b",[t._v(t._s(t.str))]),n("span",{staticClass:"text-ipa",class:{"text-faded":t.str}},[t._v(t._s(t.ipa))])])},q=[],z={name:"PhoneticItem",props:["selected","faded","ipa","str"]},I=z,Q=(n("8c98"),Object(p["a"])(I,L,q,!1,null,"83ec7654",null)),D=Q.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionHeader",{attrs:{icon:"sticky_note_2",header:"Notes"},on:{action:t.add},scopedSlots:t._u([{key:"caption",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},t._l(t.notes,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.notes[i],expression:"notes[i]"}],attrs:{type:"text"},domProps:{value:t.notes[i]},on:{input:function(e){e.target.composing||t.$set(t.notes,i,e.target.value)}}}),n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){return t.remove(i)}}})],1)})),0)},R=[],U={name:"NotesEditor",components:{Button:f,ActionHeader:H},props:["notes"],watch:{notes:{handler:function(){this.$forceUpdate()},deep:!0,immediate:!0}},methods:{add:function(){this.notes?this.notes.push(""):this.$emit("update:notes",[""])},remove:function(t){this.$delete(this.notes,t)}}},Y=U,K=Object(p["a"])(Y,F,R,!1,null,null,null),G=K.exports,Z={name:"PhonologyEditor",components:{Button:f,ButtonAlert:E,ActionHeader:H,PhoneticItem:D,NotesEditor:G},data:function(){return{file:void 0,phoneme:void 0}},computed:{graphemes:function(){return this.file.map((function(t){var e,n;return null===t||void 0===t||null===(e=t.samples)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.grapheme}))},notes:function(){var t,e;return null!==(t=null===(e=this.phoneme)||void 0===e?void 0:e.notes)&&void 0!==t?t:[]}},mounted:function(){try{var t=JSON.parse(localStorage.pEditor);return void(t&&(this.file=t))}catch(e){console.log(e)}this.reset()},updated:function(){localStorage.pEditor=JSON.stringify(this.file)},beforeDestroy:function(){localStorage.pEditor=JSON.stringify(this.file)},methods:{addPhoneme:function(){var t={phoneme:"new"};this.file.push(t),this.phoneme=t},removePhoneme:function(){var t=this.file.indexOf(this.phoneme);this.file.splice(t,1),this.phoneme=this.file[this.file.length-1]},addSample:function(){this.phoneme.samples?this.phoneme.samples.push({}):this.$set(this.phoneme,"samples",[{}])},removeSample:function(t){this.$delete(this.phoneme.samples,t)},loadFromLect:function(){var t=this;fetch(this.$store.state.root+window.prompt("Enter lect name")+"/phonology.json").then((function(t){return t.json()})).then((function(e){e&&(t.file=e)}))},loadFromJson:function(){var t=JSON.parse(window.prompt("Enter JSON"));t&&(this.file=t)},saveToJson:function(){navigator.clipboard.writeText(JSON.stringify(this.file))},reset:function(){this.file=[],this.phoneme=null}}},W=Z,V=(n("ab47"),Object(p["a"])(W,C,O,!1,null,"7cbfb6b4",null)),X=V.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section col-2 small"},[n("div",{staticClass:"row wrap card"},[n("router-link",{attrs:{to:"/home"}},[t._v("Home")]),n("p",{staticClass:"text-dot"}),n("router-link",{attrs:{to:"/editor/phonology"}},[t._v("Phonology")]),n("router-link",{attrs:{to:"/editor/converter"}},[t._v("Converter")]),n("router-link",{attrs:{to:"/editor/phrasebook"}},[t._v("Phrasebook")]),n("router-link",{attrs:{to:"/editor/phrasebook/corpus"}},[t._v(" Phrasebook Corpus ")]),n("Button",{attrs:{text:"load from lect"},nativeOn:{click:function(e){return t.loadFromLect(e)}}}),n("Button",{attrs:{text:"load from JSON"},nativeOn:{click:function(e){return t.loadFromJson(e)}}}),n("Button",{attrs:{text:"save JSON to clipboard"},nativeOn:{click:function(e){return t.saveToJson(e)}}}),n("ButtonAlert",{attrs:{text:"Reset"},on:{confirm:t.reset}})],1),t.file?n("div",{staticClass:"grid small"},[n("div",{staticClass:"col-2"},[n("ActionHeader",{attrs:{button:"",icon:"text_snippet",header:"Sample Text"},scopedSlots:t._u([{key:"caption",fn:function(){return[t._v(" Text that will be displayed to demonstrate the converter. ")]},proxy:!0}],null,!1,556172481)},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.file.sample,expression:"file.sample"}],domProps:{value:t.file.sample},on:{input:function(e){e.target.composing||t.$set(t.file,"sample",e.target.value)}}})]),n("ActionHeader",{attrs:{button:"",icon:"compare_arrows",header:"Default Conversion"},scopedSlots:t._u([{key:"caption",fn:function(){return[t._v(" Two mappings that will be set by default. The left should be set to the sample's original writing system. ")]},proxy:!0}],null,!1,4027584536)},[t.defaultConversion?n("div",{staticClass:"row"},[n("p",{staticClass:"icon"},[t._v("south")]),n("div",{staticClass:"col flex"},[n("Select",{attrs:{value:t.defaultConversion[0],items:t.mappings,display:"name",indexed:"true"},on:{"update:value":function(e){return t.$set(t.defaultConversion,0,e)}}}),n("Select",{attrs:{value:t.defaultConversion[1],items:t.mappings,display:"name",indexed:"true"},on:{"update:value":function(e){return t.$set(t.defaultConversion,1,e)}}})],1)]):t._e()]),n("ActionHeader",{attrs:{icon:"call_merge",header:"Mappings"},on:{action:t.addMapping},scopedSlots:t._u([t.mapping?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.deleteMapping}})]},proxy:!0}:null],null,!0)},t._l(t.mappings,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("Button",{class:{highlight:t.mapping==e},attrs:{icon:"edit"},nativeOn:{click:function(n){t.mapping=e}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"m.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})],1)})),0)],1),t.mapping?n("ActionHeader",{attrs:{icon:"format_list_numbered",header:"Pairs"},on:{action:function(e){return t.addPair(t.pairs.length)}},scopedSlots:t._u([{key:"caption",fn:function(){return[t._v(" During conversion system will consuquently go over these pairs, replacing text from the left with the text from the right or vise versa (right with left) if conversion is reversed.")]},proxy:!0},{key:"default",fn:function(){return t._l(t.pairs,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("Button",{attrs:{icon:"add"},nativeOn:{click:function(e){return t.addPair(i)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e[0],expression:"p[0]"}],attrs:{type:"text",placeholder:"from"},domProps:{value:e[0]},on:{input:function(n){n.target.composing||t.$set(e,0,n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e[1],expression:"p[1]"}],attrs:{type:"text",placeholder:"to"},domProps:{value:e[1]},on:{input:function(n){n.target.composing||t.$set(e,1,n.target.value)}}}),n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){return t.deletePair(i)}}})],1)}))},proxy:!0}],null,!1,1761284813)}):t._e()],1):t._e()])},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.index,expression:"index"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.index=e.target.multiple?n:n[0]}}},t._l(t.text,(function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(e))])})),0)},it=[],ot=(n("ddb0"),{name:"Select",props:["value","items","display","indexed"],data:function(){return{index:0}},computed:{text:function(){var t=this;return this.display?this.items.map((function(e){return e[t.display]})):this.items},values:function(){return this.indexed?this.items.map((function(t,e){return e})):this.items}},watch:{value:{handler:function(t){var e,n,i=null!==(e=null===(n=this.values)||void 0===n?void 0:n.indexOf(t))&&void 0!==e?e:0;this.index=i<0?0:i},immediate:!0},index:{handler:function(t){this.$emit("update:value",this.values[t])},immediate:!0}}}),st=ot,at=Object(p["a"])(st,nt,it,!1,null,null,null),rt=at.exports,ct={name:"ConverterEditor",components:{Button:f,ButtonAlert:E,ActionHeader:H,Select:rt},data:function(){return{file:void 0,mapping:void 0}},computed:{mappings:function(){var t,e;return null!==(t=null===(e=this.file)||void 0===e?void 0:e.mappings)&&void 0!==t?t:[]},defaultConversion:function(){return this.file.default},pairs:function(){var t,e;return null!==(t=null===(e=this.mapping)||void 0===e?void 0:e.pairs)&&void 0!==t?t:[]}},mounted:function(){try{var t=JSON.parse(localStorage.cEditor);return void(t&&(this.file=t))}catch(e){console.log(e)}this.reset()},updated:function(){localStorage.cEditor=JSON.stringify(this.file)},beforeDestroy:function(){localStorage.cEditor=JSON.stringify(this.file)},methods:{addMapping:function(){this.mapping={name:"newMapping",pairs:[]},this.mappings.push(this.mapping)},deleteMapping:function(){this.mappings.splice(this.mappings.indexOf(this.mapping),1),this.mapping=this.mappings[this.mappings.length-1]},addPair:function(t){this.mapping.pairs.splice(t,0,["",""])},deletePair:function(t){this.$delete(this.mapping.pairs,t)},loadFromLect:function(){var t=this;fetch(this.$store.state.root+window.prompt("Enter lect name")+"/converter.json").then((function(t){return t.json()})).then((function(e){e&&(t.file=e)}))},loadFromJson:function(){var t=JSON.parse(window.prompt("Enter JSON"));t&&(this.file=t)},saveToJson:function(){navigator.clipboard.writeText(JSON.stringify(this.file))},reset:function(){this.file={default:[0,0],mappings:[]}}}},lt=ct,ut=(n("dad5"),Object(p["a"])(lt,tt,et,!1,null,"21d6d822",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section col-2 small"},[n("div",{staticClass:"row wrap card",attrs:{id:"header"}},[n("router-link",{attrs:{to:"/home"}},[t._v("Home")]),n("p",{staticClass:"text-dot"}),n("router-link",{attrs:{to:"/editor/phonology"}},[t._v("Phonology")]),n("router-link",{attrs:{to:"/editor/converter"}},[t._v("Converter")]),n("router-link",{attrs:{to:"/editor/phrasebook"}},[t._v("Phrasebook")]),n("router-link",{attrs:{to:"/editor/phrasebook/corpus"}},[t._v(" Phrasebook Corpus ")]),n("Button",{attrs:{icon:"language",text:"Load lect"},nativeOn:{click:function(e){return t.loadFromLect(e)}}}),n("Button",{attrs:{icon:"code",text:"Load JSON"},nativeOn:{click:function(e){return t.loadFromJson(e)}}}),n("Button",{attrs:{icon:"content_paste",text:"Save to clipboard"},nativeOn:{click:function(e){return t.saveToJson(e)}}}),n("p",{staticClass:"text-dot"}),n("ButtonAlert",{attrs:{text:"Reset"},on:{confirm:t.reset}})],1),t.phrasebook&&t.phrasebook.length&&t.file?n("div",{staticClass:"grid small"},[n("div",{staticClass:"col-2"},[n("div",{staticClass:"col-1 wrap card"},[n("div",{staticClass:"row-1"},[n("p",{staticClass:"icon"},[t._v("topic")]),n("h2",{staticClass:"col-1 flex"},[n("Select",{attrs:{value:t.section,items:t.phrasebook,display:"name"},on:{"update:value":function(e){t.section=e}}})],1)]),t.phrases?n("div",{staticClass:"row-1"},[n("p",{staticClass:"icon"},[t._v("short_text")]),n("Select",{staticClass:"flex",attrs:{value:t.phrase,items:t.phrases,display:"preview"},on:{"update:value":function(e){t.phrase=e}}})],1):t._e(),n("p",{staticClass:"text-faded text-caption"},[t._v(" The source corpus is loading from what is saved on Phrasebook Corpus editor page. ")]),t.phrase?[n("PhraseContext",{attrs:{context:t.context}}),t.phrase.blocks&&t.phrase.blocks.length?n("div",{staticClass:"row wrap"},t._l(t.phrase.blocks,(function(e,i){return n("PhraseBlock",{key:i+"-"+t.phrase.id,attrs:{id:t.phrase.id,context:t.context,interactive:!0,block:e},on:{"update:context":function(e){t.context=e}}})})),1):t._e()]:t._e()],2),t.phrase&&t.translation?[n("ActionHeader",{attrs:{icon:"account_tree",header:"Blocks"},on:{action:t.addBlock},scopedSlots:t._u([t.block?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.removeBlock}})]},proxy:!0}:null],null,!0)},[t.translation.context?n("PhraseContext",{attrs:{context:t.context,translation:t.translation.context}}):t._e(),n("div",{staticClass:"row-1 wrap block-editor"},t._l(t.blocks,(function(e,i){return n("div",{key:t.state+"_"+i+"_"+t.phrase.id,staticClass:"row"},[n("Button",{class:{highlight:t.block==e},attrs:{icon:"edit"},nativeOn:{click:function(n){t.block=e}}}),n("PhraseBlock",{attrs:{id:t.state+t.phrase.id,context:t.context,interactive:!0,block:e},on:{"update:context":function(e){t.context=e}}})],1)})),0)],1),n("NotesEditor",{attrs:{notes:t.translation.notes},on:{"update:notes":function(e){return t.$set(t.translation,"notes",e)}}},[t._v(" You can add notes, for example, to explain certain grammatical rules. ")]),n("PhraseContextTranslation",{attrs:{translation:t.translation.context,context:t.fullContext},on:{"update:translation":function(e){return t.$set(t.translation,"context",e)}}},[t._v(" Translate the context keys (entites & tags) to provide full phrase localization. ")])]:t._e()],2),t.block?n("PhraseBlockEditor",{attrs:{block:t.block,context:t.fullContext},on:{remove:t.removeBlock}}):t._e()],1):t._e()])},ht=[],ft=(n("4160"),n("b64b"),n("ac1f"),n("6062"),n("3ca3"),n("1276"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.state?n("button",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"small",class:{disabled:t.disabled,glossed:t.glossed},on:{click:t.move}},[t.interactive?[n("IndexedColor",{attrs:{passive:!0,indexes:t.passiveIndexes}}),n("IndexedColor",{attrs:{indexes:t.activeIndexes}})]:t._e(),n("PhraseStateDisplay",{ref:"display",attrs:{glossed:t.glossed,colored:this.interactive,state:t.state,context:t.context}})],2):t._e()}),vt=[],mt=(n("99af"),n("4de4"),n("13d5"),n("a9e3"),n("3835")),gt=n("2909"),xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.classes?n("div",{staticClass:"row line",class:{passive:t.passive}},t._l(t.classes,(function(t,e){return n("div",{key:e,staticClass:"dash",class:t})})),0):t._e()},bt=[],yt={name:"IndexedColor",props:["indexes","passive"],computed:{classes:function(){return this.indexes.map((function(t){return"colored-back-"+t}))}}},kt=yt,_t=(n("18d8"),Object(p["a"])(kt,xt,bt,!1,null,"534bcfb3",null)),wt=_t.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.types,(function(e,i){return n("p",{key:i,class:{"text-faded":t.state.implicit,"text-ipa":"ipa"==e,t:e}},t._l(t.segments[i],(function(e,i){return n("span",{key:i,class:t.colors[i]},[t._v(" "+t._s(e)+" ")])})),0)})),0)},Ot=[],St=(n("a15b"),{name:"PhraseStateDisplay",props:{state:{type:Object},glossed:{type:Boolean,default:!1},context:{type:Object},colored:{type:Boolean,default:!0}},computed:{entities:function(){return Object.keys(this.context)},types:function(){return this.glossed?["ipa","glossing"]:["text"]},colors:function(){var t=this;return this.colored?this.state.display.map((function(e){return"colored-"+t.entities.indexOf(e.entity)})):[]},segments:function(){var t=this;return this.types.map((function(e){return t.state.display.map((function(t){return t[e]}))}))},text:function(){var t=this.segments.map((function(t){return t.join("")}));return 1==t.length?t[0]:t.join("\n")}}}),Pt=St,$t=(n("d59c"),Object(p["a"])(Pt,Ct,Ot,!1,null,"01aa5990",null)),Bt=$t.exports,jt={name:"PhraseBlock",components:{IndexedColor:wt,PhraseStateDisplay:Bt},props:["id","context","block","interactive","glossed"],data:function(){return{state:void 0,visible:!1,pressed:!1}},computed:{requirements:function(){return this.block.requirements},states:function(){return this.block.states},transition:function(){var t;return null===(t=this.state)||void 0===t?void 0:t.transition},conditions:function(){var t;return null===(t=this.state)||void 0===t?void 0:t.conditions},disabled:function(){return!(this.interactive&&this.transition)},entities:function(){return Object.keys(this.context)},passiveIndexes:function(){var t=[];return this.requirements&&(t=t.concat(this.requirements)),this.conditions&&(t=t.concat(this.transition?this.conditions.filter((function(t){return t.passive})):this.conditions)),this.getConditionIndexes(t)},activeIndexes:function(){return this.transition&&this.conditions?this.getConditionIndexes(this.conditions.filter((function(t){return!t.passive}))):[]}},watch:{id:{handler:function(){this.visible=!1},immediate:!0},context:{handler:function(){if(this.pressed)this.pressed=!1;else{var t=this.context&&1==this.checkConditions(this.requirements)[0];if(t){var e=this.findBestState();e!=this.state&&this.switchState(e)}else this.state&&this.switchState(null);this.visible=t}},immediate:!0}},methods:{getConditionIndexes:function(t){var e=this,n=new Set(t.map((function(t){return t.entity})));return Object(gt["a"])(n).map((function(t){return e.entities.indexOf(t)}))},checkConditions:function(t){var e=this;return(null===t||void 0===t?void 0:t.length)?[t.reduce((function(t,n){var i,o=n.entity,s=n.tag;return t+(s?null===(i=e.context[o])||void 0===i?void 0:i.has(s):1)}),0)/t.length,t.length]:[1,0]},findBestState:function(t){var e,n,i,o=this,s=null,a=0,r=!1,c=null!==(e=null!==(n=null===t||void 0===t?void 0:t.map((function(t){return o.states[t]})))&&void 0!==n?n:this.states)&&void 0!==e?e:[];return null===c||void 0===c||c.filter((function(t){return t.conditions})).forEach((function(t){var e=o.checkConditions(t.conditions),n=Object(mt["a"])(e,2),i=n[0],c=n[1];(1==a?1==i&&c>=r:i>=a)&&(s=t,a=i,r=c)})),null!==(i=s)&&void 0!==i?i:c[0]},applyConditions:function(t,e,n){null===e||void 0===e||e.filter((function(t){var e=t.passive,n=t.tag;return!e&&n})).forEach((function(e){var i,o,s=e.entity,a=e.tag;n?null===(i=t[s])||void 0===i||i.add(a):null===(o=t[s])||void 0===o||o.delete(a)}))},switchState:function(t){var e,n=Object.assign({},this.context);this.applyConditions(n,null===(e=this.state)||void 0===e?void 0:e.conditions,!1),this.applyConditions(n,null===t||void 0===t?void 0:t.conditions,!0),this.state=t,this.$emit("update:context",n)},move:function(){if(!this.disabled)if("string"==typeof this.transition){var t;if("next"==this.transition){var e=this.states.indexOf(this.state);t=this.states[(e+1)%this.states.length]}else if(this.transition){var n=this.transition.split(" ").map((function(t){return Number(t)}));t=this.findBestState(n)}this.pressed=!0,this.switchState(t)}else this.transition}}},Et=jt,Nt=(n("8bf8"),Object(p["a"])(Et,ft,vt,!1,null,"051a7e15",null)),At=Nt.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.any?n("div",{staticClass:"row text-caption text-faded wrap"},[t._l(t.tags,(function(e,i){return[e.length?n("div",{key:i,staticClass:"row wrap"},[n("h2",{class:"colored-dot-"+i},[t._v(t._s(t.entities[i]))]),t._l(e,(function(e){return n("p",{key:e},[t._v(t._s(e))])}))],2):t._e()]}))],2):t._e()},Jt=[],Tt=(n("0481"),n("45fc"),n("4069"),n("4fad"),{name:"PhraseContext",props:["context","translation","blocks"],computed:{dictionary:function(){var t,e={entities:{},tags:{}};return null===(t=this.translation)||void 0===t||t.forEach((function(t){var n,i=t.entity,o=t.tags;e.entities[i[0]]=i[1],e.tags[i[0]]=null!==(n=null===o||void 0===o?void 0:o.reduce((function(t,e){return t[e[0]]=e[1],t}),{}))&&void 0!==n?n:{}})),e},explicitContext:function(){var t,e;return null!==(t=null===(e=this.blocks)||void 0===e?void 0:e.filter((function(t){return t.visible})).map((function(t){return[].concat(null===t||void 0===t?void 0:t.requirements,null===t||void 0===t?void 0:t.conditions)})).flat().filter((function(t){return t})).reduce((function(t,e){var n=e.entity,i=e.tag;return t[n]||(t[n]=new Set),t[n].add(i),t}),{}))&&void 0!==t?t:{}},entities:function(){var t=this;return Object.keys(this.context).map((function(e){return t.translate(t.dictionary.entities,e)}))},tags:function(){var t=this;return Object.entries(this.context).map((function(e){var n=Object(mt["a"])(e,2),i=n[0],o=n[1];return Object(gt["a"])(null!==o&&void 0!==o?o:[]).filter((function(e){var n;return!(null===(n=t.explicitContext[i])||void 0===n?void 0:n.has(e))})).map((function(e){return t.translate(t.dictionary.tags[i],e)}))}))},any:function(){return this.tags.some((function(t){return null===t||void 0===t?void 0:t.length}))}},methods:{translate:function(t,e){if(t){var n=t[e];if(n)return n}return e}}}),Ht=Tt,Lt=(n("334f"),Object(p["a"])(Ht,Mt,Jt,!1,null,"8921b9a4",null)),qt=Lt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block col-2"},[n("PhraseConditionsEditor",{attrs:{conditions:t.block.requirements,context:t.context,icon:"lock",header:"Requirements"},on:{"update:conditions":function(e){return t.$set(t.block,"requirements",e)}}},[t._v(" If at least one of these conditions fails, the block will be completely hidden. ")]),n("ActionHeader",{attrs:{icon:"tune",header:"States"},on:{action:t.add},scopedSlots:t._u([t.state?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.remove}})]},proxy:!0}:null],null,!0)},[n("div",{staticClass:"row-1 wrap block-editor"},t._l(t.states,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("Button",{class:{highlight:t.state==e},attrs:{icon:"edit"},nativeOn:{click:function(n){t.state=e}}}),n("PhraseStateDisplay",{attrs:{state:e,context:t.context}})],1)})),0)]),t.state?[n("PhraseStateDisplayEditor",{attrs:{state:t.state,context:t.context}}),n("PhraseConditionsEditor",{attrs:{conditions:t.state.conditions,context:t.context,allowPassive:!0,icon:"widgets",header:"conditions"},on:{"update:conditions":function(e){return t.$set(t.state,"conditions",e)}}}),n("PhraseStateTransitionEditor",{attrs:{state:t.state,context:t.context,states:t.states}})]:t._e()],2)},It=[],Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionHeader",{attrs:{icon:t.icon,header:t.header},on:{action:t.add},scopedSlots:t._u([{key:"caption",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[n("div",{staticClass:"scroll col"},t._l(t.conditions,(function(e,i){return n("div",{key:i,staticClass:"row"},[t.allowPassive?n("Button",{attrs:{value:e.passive,icon:"call_missed"},on:{"update:value":function(n){return t.$set(e,"passive",n)}}}):t._e(),n("Select",{staticClass:"flex",attrs:{value:e.entity,items:t.entities},on:{"update:value":function(n){return t.$set(e,"entity",n)}}}),n("p",{staticClass:"icon"},[t._v("west")]),t.context[e.entity]?n("Select",{staticClass:"flex",attrs:{value:e.tag,items:t.context[e.entity]},on:{"update:value":function(n){return t.$set(e,"tag",n)}}}):t._e(),n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){return t.remove(i)}}})],1)})),0)])},Dt=[],Ft={name:"PhraseConditionsEditor",components:{Button:f,ActionHeader:H,Select:rt},props:["conditions","context","allowPassive","header","icon"],computed:{entities:function(){return Object.keys(this.context)}},methods:{add:function(){var t=this.conditions;t||this.$emit("update:conditions",t=[]),t.push({})},remove:function(t){this.$delete(this.conditions,t)}}},Rt=Ft,Ut=(n("f5d6"),Object(p["a"])(Rt,Qt,Dt,!1,null,"9f5ddd48",null)),Yt=Ut.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionHeader",{attrs:{button:"",icon:"alt_route",header:"transition"},scopedSlots:t._u([{key:"header",fn:function(){return[n("ToggleGroup",{attrs:{icons:["block","arrow_forward","star_outline"],value:t.mode},on:{"update:value":function(e){t.mode=e}}})]},proxy:!0}])},[2==t.mode?n("div",{staticClass:"row-1 wrap block-editor"},t._l(t.states,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("Button",{class:{highlight:t.present[i]},attrs:{icon:"check"},nativeOn:{click:function(e){return t.toggle(i)}}}),n("PhraseStateDisplay",{attrs:{state:e,context:t.context}})],1)})),0):t._e()])},Gt=[],Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},t._l(t.icons,(function(e,i){return n("Button",{key:i,class:{highlight:i==t.value},attrs:{icon:e},nativeOn:{click:function(e){return t.$emit("update:value",i)}}})})),1)},Wt=[],Vt={name:"ToggleGroup",components:{Button:f},props:["icons","value"]},Xt=Vt,te=Object(p["a"])(Xt,Zt,Wt,!1,null,null,null),ee=te.exports,ne={name:"PhraseStateTransitionEditor",components:{Button:f,ToggleGroup:ee,ActionHeader:H,PhraseStateDisplay:Bt},props:["state","states","context"],data:function(){return{mode:0}},computed:{ints:function(){var t,e;return null!==(t=null===(e=this.state.transition)||void 0===e?void 0:e.split(" ").map((function(t){return Number(t)})).filter((function(t){return!isNaN(t)})))&&void 0!==t?t:[]},present:function(){var t=this;return this.states.map((function(e,n){return t.ints.includes(n)}))}},watch:{state:{handler:function(){"next"==this.state.transition?this.mode=1:this.state.transition?this.mode=2:this.mode=0},immediate:!0},mode:function(){1==this.mode?this.$set(this.state,"transition","next"):this.mode||this.$set(this.state,"transition")}},methods:{toggle:function(t){var e=this.ints;e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),2==this.mode&&this.$set(this.state,"transition",e.join(" "))}}},ie=ne,oe=Object(p["a"])(ie,Kt,Gt,!1,null,null,null),se=oe.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionHeader",{attrs:{icon:"visibility",header:"display"},on:{action:t.add},scopedSlots:t._u([{key:"header",fn:function(){return[n("Button",{attrs:{value:t.state.implicit,icon:"opacity"},on:{"update:value":function(e){return t.$set(t.state,"implicit",e)}}})]},proxy:!0}])},[t.display?n("div",{staticClass:"col"},t._l(t.display,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("Button",{attrs:{icon:"palette"},nativeOn:{click:function(e){return t.toggle(i)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"d.text"}],class:t.colors[i],attrs:{type:"text",placeholder:"text"},domProps:{value:e.text},on:{input:function(n){n.target.composing||t.$set(e,"text",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ipa,expression:"d.ipa"}],staticClass:"text-ipa",class:t.colors[i],attrs:{type:"text",placeholder:"ipa"},domProps:{value:e.ipa},on:{input:function(n){n.target.composing||t.$set(e,"ipa",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.glossing,expression:"d.glossing"}],staticClass:"glossing",class:t.colors[i],attrs:{type:"text",placeholder:"glossing"},domProps:{value:e.glossing},on:{input:function(n){n.target.composing||t.$set(e,"glossing",n.target.value)}}}),n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){return t.remove(i)}}})],1)})),0):t._e()])},re=[],ce={name:"PhraseStateDisplayEditor",components:{Button:f,ActionHeader:H},props:["state","context","allowEmpty"],computed:{display:function(){return this.state.display},entities:function(){return[void 0].concat(Object.keys(this.context))},colors:function(){var t,e=this;return null===(t=this.state.display)||void 0===t?void 0:t.map((function(t){return"colored-"+(e.entities.indexOf(t.entity)-1)}))}},methods:{add:function(){this.display?this.display.push({}):this.$set(this.state,"display",[{}])},toggle:function(t){var e=this.entities.indexOf(this.display[t].entity);e=(e+1)%this.entities.length,this.$set(this.display[t],"entity",this.entities[e])},remove:function(t){(this.allowEmpty||this.display.length>1)&&this.$delete(this.display,t)}}},le=ce,ue=Object(p["a"])(le,ae,re,!1,null,null,null),de=ue.exports,pe={name:"PhraseBlockEditor",components:{Button:f,ButtonAlert:E,ActionHeader:H,PhraseConditionsEditor:Yt,PhraseStateTransitionEditor:se,PhraseStateDisplayEditor:de,PhraseStateDisplay:Bt},props:["block","context"],data:function(){return{state:void 0}},computed:{states:function(){return this.block.states}},watch:{block:{handler:function(){var t;(null===(t=this.states)||void 0===t?void 0:t.length)?this.state=this.states[this.states.length-1]:(this.$set(this.block,"states",[]),this.add())},immediate:!0}},methods:{add:function(){var t={display:[{text:"new state"}],transition:"next"};this.states.push(t),this.state=t},remove:function(){this.states.length>1&&this.$delete(this.states,this.states.indexOf(this.state))}}},he=pe,fe=Object(p["a"])(he,zt,It,!1,null,null,null),ve=fe.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionHeader",{attrs:{button:t.translation?"":"queue",icon:"format_list_bulleted",header:"context translation"},on:{action:t.add},scopedSlots:t._u([{key:"caption",fn:function(){return[t._t("default")]},proxy:!0},t.translation?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.remove}})]},proxy:!0}:null],null,!0)},[t.translation?t._l(t.entities,(function(e,i){return n("div",{key:i,staticClass:"row wrap"},[n("div",{staticClass:"row wrap block-editor"},[n("div",{staticClass:"col"},[n("h2",{staticClass:"text-caption",class:t.colors[i]},[t._v(t._s(e[0]))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e[1],expression:"e[1]"}],attrs:{size:t.sizes[i].entity,type:"text"},domProps:{value:e[1]},on:{input:function(n){n.target.composing||t.$set(e,1,n.target.value)}}})]),t._l(t.tags[i],(function(e,o){return n("div",{key:e[0],staticClass:"col"},[n("p",{staticClass:"text-caption"},[t._v(t._s(e[0]))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e[1],expression:"t[1]"}],attrs:{size:t.sizes[i].tags[o],type:"text"},domProps:{value:e[1]},on:{input:function(n){n.target.composing||t.$set(e,1,n.target.value)}}})])}))],2)])})):t._e()],2)},ge=[],xe={name:"PhraseContextTranslation",components:{ButtonAlert:E,ActionHeader:H},props:["translation","context"],computed:{entities:function(){return this.translation.map((function(t){return t.entity}))},tags:function(){return this.translation.map((function(t){return t.tags}))},sizes:function(){return this.translation.map((function(t){var e=t.entity,n=t.tags;return{entity:Math.max(e[1].length,1),tags:n.map((function(t){return Math.max(t[1].length,1)}))}}))},colors:function(){return this.entities.map((function(t,e){return"colored-dot-"+e}))}},methods:{add:function(){this.$emit("update:translation",Object.entries(this.context).map((function(t){var e=Object(mt["a"])(t,2),n=e[0],i=e[1];return{entity:[n,""],tags:i.map((function(t){return[t,""]}))}})))},remove:function(){this.$emit("update:translation")}}},be=xe,ye=Object(p["a"])(be,me,ge,!1,null,null,null),ke=ye.exports,_e={name:"PhrasebookEditor",components:{Button:f,ActionHeader:H,ButtonAlert:E,Select:rt,PhraseBlock:At,PhraseContext:qt,PhraseBlockEditor:ve,NotesEditor:G,PhraseContextTranslation:ke},data:function(){return{state:0,lect:"default",file:void 0,section:void 0,phrase:void 0,context:void 0,fullContext:void 0,translation:void 0,block:void 0,phrasebook:void 0}},computed:{phrases:function(){var t,e;return null!==(t=null===(e=this.section)||void 0===e?void 0:e.phrases)&&void 0!==t?t:[]},blocks:function(){var t;return null===(t=this.translation)||void 0===t?void 0:t.blocks}},watch:{phrasebook:function(){var t,e;this.file&&(null===(t=this.phrasebook)||void 0===t?void 0:t.length)&&(this.section=this.phrasebook[0],this.phrase=null===(e=this.section)||void 0===e?void 0:e.phrases[0],this.fillMissing())},file:function(){var t,e;(this.state=Math.random(),this.file&&(null===(t=this.phrasebook)||void 0===t?void 0:t.length))&&(this.section=this.phrasebook[0],this.phrase=null===(e=this.section)||void 0===e?void 0:e.phrases[0],this.fillMissing())},section:{handler:function(){this.phrase=this.phrases[0]},immediate:!0},phrase:{handler:function(){var t=this;this.phrase&&(this.context={},this.fullContext={},this.phrase.context.forEach((function(e){var n=e.entity,i=e.tags;t.context[n]=new Set,t.fullContext[n]=i.split(" ")})),this.fillMissing())},immediate:!0},blocks:function(){this.block=this.blocks?this.blocks[this.blocks.length-1]:null}},mounted:function(){var t,e,n=this;try{var i;this.file=null!==(i=JSON.parse(localStorage.pbEditor))&&void 0!==i?i:{}}catch(o){console.log("phrasebook did not load"),this.file={}}try{this.phrasebook=JSON.parse(localStorage.pbcEditor)}catch(s){this.phrasebook={}}(null===(t=Object.keys(null!==(e=this.phrasebook)&&void 0!==e?e:{}))||void 0===t?void 0:t.length)||fetch(this.$store.state.root+"/phrasebook.json").then((function(t){return t.json()})).then((function(t){t&&(n.phrasebook=t)}))},updated:function(){localStorage.pbEditor=JSON.stringify(this.file)},beforeDestroy:function(){localStorage.pbEditor=JSON.stringify(this.file)},methods:{fillMissing:function(){this.file&&this.section&&this.phrase&&(this.file[this.phrase.id]||this.$set(this.file,this.phrase.id,{}),this.translation=this.file[this.phrase.id])},loadFromLect:function(){var t=this;fetch(this.$store.state.root+window.prompt("Enter lect name")+"/phrasebook.json").then((function(t){return t.json()})).then((function(e){e&&(t.file=e)}))},loadFromJson:function(){var t=JSON.parse(window.prompt("Enter JSON"));t&&(this.file=t)},saveToJson:function(){navigator.clipboard.writeText(JSON.stringify(this.file,null,2))},reset:function(){this.file={}},addBlock:function(){this.block={},this.blocks?this.blocks.push(this.block):this.$set(this.translation,"blocks",[this.block])},removeBlock:function(){this.$delete(this.blocks,this.blocks.indexOf(this.block)),this.block=this.blocks[this.blocks.length-1]}}},we=_e,Ce=(n("ec82"),n("2bd4"),Object(p["a"])(we,pt,ht,!1,null,"3e7b5c47",null)),Oe=Ce.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section col-2 small"},[n("div",{staticClass:"row wrap card",attrs:{id:"header"}},[n("router-link",{attrs:{to:"/home"}},[t._v("Home")]),n("p",{staticClass:"text-dot"}),n("router-link",{attrs:{to:"/editor/phonology"}},[t._v("Phonology")]),n("router-link",{attrs:{to:"/editor/converter"}},[t._v("Converter")]),n("router-link",{attrs:{to:"/editor/phrasebook"}},[t._v("Phrasebook")]),n("router-link",{attrs:{to:"/editor/phrasebook/corpus"}},[t._v(" Phrasebook Corpus ")]),n("Button",{attrs:{icon:"language",text:"Load lect"},nativeOn:{click:function(e){return t.loadFromLect(e)}}}),n("Button",{attrs:{icon:"code",text:"Load JSON"},nativeOn:{click:function(e){return t.loadFromJson(e)}}}),n("Button",{attrs:{icon:"content_paste",text:"Save to clipboard"},nativeOn:{click:function(e){return t.saveToJson(e)}}}),n("p",{staticClass:"text-dot"}),n("ButtonAlert",{attrs:{text:"Reset"},on:{confirm:t.reset}})],1),t.file?n("div",{staticClass:"grid small"},[n("div",{staticClass:"col-2"},[n("ActionHeader",{attrs:{icon:"topic",header:"sections"},on:{action:t.addSection},scopedSlots:t._u([t.section?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.removeSection}})]},proxy:!0}:null],null,!0)},[n("div",{staticClass:"col scroll"},t._l(t.file,(function(e){return n("div",{key:e.id,staticClass:"row"},[n("Button",{class:{highlight:t.section==e},attrs:{icon:"edit"},nativeOn:{click:function(n){t.section=e}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"s.name"}],staticClass:"flex",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})],1)})),0)]),t.section?n("ActionHeader",{attrs:{icon:"short_text",header:"phrases"},on:{action:t.addPhrase},scopedSlots:t._u([t.phrase?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.removePhrase}})]},proxy:!0}:null],null,!0)},[n("div",{staticClass:"col scroll"},t._l(t.section.phrases,(function(e){return n("div",{key:e.id,staticClass:"row"},[n("Button",{class:{highlight:t.phrase==e},attrs:{icon:"edit"},nativeOn:{click:function(n){t.phrase=e}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.preview,expression:"p.preview"}],staticClass:"flex",attrs:{type:"text"},domProps:{value:e.preview},on:{input:function(n){n.target.composing||t.$set(e,"preview",n.target.value)}}})],1)})),0)]):t._e(),t.phrase?n("ActionHeader",{attrs:{icon:"account_tree",header:"Blocks"},on:{action:t.addBlock},scopedSlots:t._u([t.block?{key:"header",fn:function(){return[n("ButtonAlert",{on:{confirm:t.removeBlock}})]},proxy:!0}:null],null,!0)},[n("PhraseContext",{attrs:{context:t.context}}),n("div",{staticClass:"row-1 wrap block-editor"},t._l(t.blocks,(function(e,i){return n("div",{key:i+"_"+t.phrase.id,staticClass:"row"},[n("Button",{class:{highlight:t.block==e},attrs:{icon:"edit"},nativeOn:{click:function(n){t.block=e}}}),n("PhraseBlock",{attrs:{id:t.phrase.id,context:t.context,interactive:!0,block:e},on:{"update:context":function(e){t.context=e}}})],1)})),0)],1):t._e(),t.phrase?n("PhraseContextEditor",{attrs:{context:t.contextSource}}):t._e()],1),t.phrase&&t.block?n("PhraseBlockEditor",{attrs:{block:t.block,context:t.fullContext},on:{remove:t.removeBlock}}):t._e()],1):t._e()])},Pe=[],$e=n("ec26"),Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionHeader",{attrs:{icon:"widgets",header:"context"},on:{action:t.add}},[n("div",{staticClass:"col scroll"},t._l(t.context,(function(e,i){return n("div",{key:i,staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.entity,expression:"c.entity"}],staticClass:"entity",class:"colored-"+i,attrs:{type:"text"},domProps:{value:e.entity},on:{input:function(n){n.target.composing||t.$set(e,"entity",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tags,expression:"c.tags"}],staticClass:"flex",attrs:{type:"text"},domProps:{value:e.tags},on:{input:function(n){n.target.composing||t.$set(e,"tags",n.target.value)}}}),n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){return t.remove(i)}}})],1)})),0)])},je=[],Ee={name:"PhraseContextEditor",components:{Button:f,ActionHeader:H},props:["context"],methods:{add:function(){this.context.push({entity:"new entity",tags:"tags"})},remove:function(t){this.$delete(this.context,t)}}},Ne=Ee,Ae=(n("2467"),Object(p["a"])(Ne,Be,je,!1,null,"465a66e4",null)),Me=Ae.exports,Je={name:"PhrasebookCorpusEditor",components:{Button:f,ButtonAlert:E,ActionHeader:H,PhraseContext:qt,PhraseContextEditor:Me,PhraseBlock:At,PhraseBlockEditor:ve},data:function(){return{file:[],section:void 0,phrase:void 0,block:void 0,context:void 0,fullContext:void 0}},computed:{contextSource:function(){var t;return null===(t=this.phrase)||void 0===t?void 0:t.context},blocks:function(){var t;return null===(t=this.phrase)||void 0===t?void 0:t.blocks}},watch:{section:function(){var t;this.phrase=null===(t=this.section)||void 0===t?void 0:t.phrases[0]},phrase:{handler:function(){var t,e=this;this.context={},this.fullContext={},null===(t=this.contextSource)||void 0===t||t.forEach((function(t){var n=t.entity,i=t.tags;e.context[n]=new Set,e.fullContext[n]=i.split(" ")}))},deep:!0,immediate:!0}},mounted:function(){try{var t=JSON.parse(localStorage.pbcEditor);return void(t&&(this.file=t))}catch(e){console.log(e)}this.reset()},updated:function(){localStorage.pbcEditor=JSON.stringify(this.file)},beforeDestroy:function(){localStorage.pbcEditor=JSON.stringify(this.file)},methods:{addSection:function(){var t={id:Object($e["a"])(),name:"New section",phrases:[]};this.file.push(t),this.section=t},removeSection:function(){this.$delete(this.file,this.file.indexOf(this.section))},addPhrase:function(){var t={id:Object($e["a"])(),preview:"New phrase",context:[],blocks:[]};this.section.phrases.push(t),this.phrase=t},removePhrase:function(){this.$delete(this.section.phrases,this.section.phrases.indexOf(this.phrase))},addBlock:function(){var t={};this.blocks.push(t),this.block=t},removeBlock:function(){this.$delete(this.blocks,this.blocks.indexOf(this.block)),this.block=this.blocks[this.blocks.length-1]},loadFromLect:function(){var t=this;fetch(this.$store.state.root+"/phrasebook.json").then((function(t){return t.json()})).then((function(e){e&&(t.file=e)}))},loadFromJson:function(){var t=JSON.parse(window.prompt("Enter JSON"));t&&(this.file=t)},saveToJson:function(){navigator.clipboard.writeText(JSON.stringify(this.file))},reset:function(){this.file=[]}}},Te=Je,He=(n("f071"),n("e076"),n("8463"),Object(p["a"])(Te,Se,Pe,!1,null,"54f74374",null)),Le=He.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.phonemes?n("div",{staticClass:"section"},[n("div",{staticClass:"col-1 scroll"},[n("ChipsQuery",{attrs:{items:t.lects,itemKey:"name"},on:{query:function(e){t.lectQuery=e}}}),n("InputQuery",{attrs:{placeholder:"Query phonemes, e.g. voiced -velar..."},on:{query:function(e){t.featureQuery=e}}}),t._l(t.categories,(function(e){return n("div",{key:e,staticClass:"col"},[n("h2",[t._v(t._s(e+"s"))]),n("PhoneticTable",{attrs:{filter:e,featureQuery:t.featureQuery,lectQuery:t.lectQuery,phonemes:t.phonemes},model:{value:t.phoneme,callback:function(e){t.phoneme=e},expression:"phoneme"}})],1)}))],2),n("PhonemeDetails",{attrs:{phoneme:t.phoneme}})],1):t._e()},ze=[],Ie=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.many?n("div",{staticClass:"row scroll"},[n("button",{staticClass:"small icon round",on:{click:t.reset}},[t._v("clear")]),t._l(t.keys,(function(e,i){return n("button",{key:e,staticClass:"small round",class:t.highlights[i],on:{click:function(e){return t.toggle(i)}}},[t._v(" "+t._s(e)+" ")])}))],2):t._e()}),Qe=[],De=(n("cb29"),n("ade3")),Fe={name:"ChipsQuery",props:["items","itemKey"],data:function(){return{input:void 0}},computed:{keys:function(){var t=this;return this.itemKey?this.items.map((function(e){return e[t.itemKey]})):this.items},highlights:function(){return this.input.map((function(t){return t?t>0?"highlight-confirm":"highlight-alert":null}))},many:function(){return this.keys.length>1}},watch:{items:{handler:function(){this.reset()},immediate:!0},input:{handler:function(){var t=this;this.$emit("query",this.many?this.input.reduce((function(e,n,i){return n&&(e[t.keys[i]]=n>0),e}),{}):Object(De["a"])({},this.keys[0],1))},immediate:!0}},methods:{toggle:function(t){this.$set(this.input,t,(this.input[t]+2)%3-1)},reset:function(){this.input=new Array(this.keys.length).fill(0)}}},Re=Fe,Ue=Object(p["a"])(Re,Ie,Qe,!1,null,null,null),Ye=Ue.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"root"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})])},Ge=[],Ze={name:"InputQuery",props:["placeholder"],data:function(){return{input:""}},watch:{input:function(){this.$emit("query",this.input.toLowerCase().split(" ").filter((function(t){return t})).reduce((function(t,e){return"-"===e[0]?t[e.substr(1)]=!1:t[e]=!0,t}),{}))}}},We=Ze,Ve=(n("108f"),Object(p["a"])(We,Ke,Ge,!1,null,"1d0785bf",null)),Xe=Ve.exports,tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row scroll wrap",class:{narrow:t.narrow},attrs:{id:"root"}},t._l(t.filtered,(function(e,i){return n("PhoneticItem",{key:i,attrs:{selected:t.phoneme==e,faded:!t.fitting[i],ipa:e.ipa,str:t.graphemes[i]},nativeOn:{click:function(n){return t.$emit("select",e)}}})})),1)},en=[],nn={name:"PhoneticTable",components:{PhoneticItem:D},props:["phoneme","filter","lectQuery","featureQuery","phonemes"],model:{prop:"phoneme",event:"select"},computed:{filtered:function(){var t=this;return this.filter?this.phonemes.filter((function(e){return e.tags.includes(t.filter)})):this.phonemes},fitting:function(){var t=this;return this.filtered.map((function(e){return t.pass(Object.keys(e.lects),t.lectQuery)&&t.pass(e.tags,t.featureQuery)}))},singleLect:function(){var t=null;for(var e in this.lectQuery)if(this.lectQuery[e]>0){if(t)return;t=e}return t},graphemes:function(){var t=this;return this.singleLect?this.filtered.map((function(e){var n,i;return null===(n=e.lects[t.singleLect])||void 0===n||null===(i=n.samples[0])||void 0===i?void 0:i.grapheme})):[]},narrow:function(){return this.filtered.length<=12}},methods:{pass:function(t,e){if(!e)return!0;for(var n=0,i=Object.entries(e);n<i.length;n++){var o=Object(mt["a"])(i[n],2),s=o[0],a=o[1];if(a!=t.includes(s))return!1}return!0}}},on=nn,sn=(n("5f3f"),Object(p["a"])(on,tn,en,!1,null,"024f8181",null)),an=sn.exports,rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-1"},[n("div",{staticClass:"card col-1"},[n("h1",{staticClass:"text-ipa"},[t._v(t._s(t.phoneme.ipa))]),n("p",{staticClass:"text-caption text-faded text-spaced"},[t._v(t._s(t.phoneme.tags))])]),n("audio",{ref:"player"}),t._l(t.phoneme.lects,(function(e,i){return n("PhonemeUse",{key:i,attrs:{lect:i,use:e},on:{play:t.play}})}))],2)},cn=[],ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-1 card"},[n("div",{staticClass:"title"},[n("h2",{staticClass:"flex"},[t._v(t._s(t.lect))]),t._l(t.graphemes,(function(e){return n("p",{key:e,staticClass:"text-dot"},[t._v(t._s(e))])}))],2),n("div",{staticClass:"col-0"},t._l(t.fullSamples,(function(e,i){return n("button",{key:i,staticClass:"small row",on:{click:function(e){return t.play(i)}}},[n("span",{staticClass:"icon"},[t._v(t._s(t.canPlay[i]?"play_arrow":"arrow_right"))]),n("span",{staticClass:"text",domProps:{innerHTML:t._s(t.highlight(e.word,e.grapheme))}}),e.ipa?n("span",{staticClass:"text-ipa",domProps:{innerHTML:t._s(t.highlight(e.ipa,t.use.phoneme))}}):t._e()])})),0),t._l(t.use.notes,(function(t,e){return n("PhoneticNote",{key:e,attrs:{text:t}})}))],2)},un=[],dn=(n("4d63"),n("25f0"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.parsed?n("p",{staticClass:"text-caption",domProps:{innerHTML:t._s(t.parsed)}}):t._e()}),pn=[],hn={name:"PhoneticNote",props:["text"],computed:{parsed:function(){return this.text.replace(/<(.+)>/g,"<b>$1</b>").replace(/\/([^/<>]+)\//g,"<span class='text-ipa'>$1</span>")}}},fn=hn,vn=Object(p["a"])(fn,dn,pn,!1,null,null,null),mn=vn.exports,gn={name:"PhonemeUse",components:{PhoneticNote:mn},props:["lect","use"],data:function(){return{canPlay:[]}},computed:{root:function(){return this.$store.state.root+this.lect+"/audio/"},fullSamples:function(){return this.use.samples.filter((function(t){return t.word||t.ipa}))},urls:function(){var t=this;return this.fullSamples.map((function(t){var e,n;return null!==(e=null===(n=t.word)||void 0===n?void 0:n.replace(/\*/g,""))&&void 0!==e?e:t.ipa})).map((function(e){return t.root+e+".mp3"}))},graphemes:function(){return new Set(this.use.samples.map((function(t){return t.grapheme})))}},watch:{urls:{handler:function(){var t=this;this.canPlay=new Array(this.urls),this.urls.forEach((function(e,n){fetch(e,{method:"HEAD"}).then((function(e){t.$set(t.canPlay,n,e.ok)}))}))},immediate:!0}},methods:{color:function(t){return"<span style='color: var(--color-highlight)'>".concat(t,"</span>")},highlight:function(t,e){return t?t.includes("*")?t.replace(/\*([^*]+)\*/g,this.color("$1")):t.replace(new RegExp(e,"g"),this.color(e)):null},play:function(t){this.canPlay[t]&&this.$emit("play",this.urls[t])}}},xn=gn,bn=(n("c7fd"),Object(p["a"])(xn,ln,un,!1,null,"7e07e6e2",null)),yn=bn.exports,kn={name:"PhonemeDetails",components:{PhonemeUse:yn},props:["phoneme"],methods:{play:function(t){var e=this.$refs.player;e.src=t,e.play()}}},_n=kn,wn=(n("44e8"),Object(p["a"])(_n,rn,cn,!1,null,"3e31848c",null)),Cn=wn.exports,On={name:"Phonology",components:{PhoneticTable:an,PhonemeDetails:Cn,ChipsQuery:Ye,InputQuery:Xe},data:function(){return{categories:["vowel","consonant"],phoneme:void 0,lectQuery:void 0,featureQuery:void 0}},computed:{lects:function(){return this.$store.state.lects},phonemes:function(){return this.$store.state.phonemes}},watch:{phonemes:{handler:function(){if(this.phonemes){var t,e=localStorage.phoneme;this.phoneme=null!==(t=this.phonemes.find((function(t){return t.ipa==e})))&&void 0!==t?t:this.phonemes[0]}},immediate:!0}},destroyed:function(){localStorage.phoneme=this.phoneme.ipa}},Sn=On,Pn=(n("3019"),Object(p["a"])(Sn,qe,ze,!1,null,"587cd457",null)),$n=Pn.exports,Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.lects?n("div",{staticClass:"section col-1"},[n("ChipsSelect",{attrs:{items:t.lects,itemKey:"name"},model:{value:t.lect,callback:function(e){t.lect=e},expression:"lect"}}),t.converter?n("div",{staticClass:"split"},[n("div",{staticClass:"col"},[n("div",{staticClass:"row"},[n("Select",{staticClass:"flex",attrs:{value:t.sourceMapping,items:t.fullMappings,display:"name"},on:{"update:value":function(e){t.sourceMapping=e}}}),t.source?n("Button",{attrs:{icon:"clear"},nativeOn:{click:function(e){t.source=""}}}):n("Button",{attrs:{icon:"text_snippet"},nativeOn:{click:function(e){return t.displaySample(e)}}}),n("Button",{attrs:{icon:"publish"},nativeOn:{click:function(e){return t.$refs.file.click()}}}),n("Button",{directives:[{name:"show",rawName:"v-show",value:!t.resultMapping.partial,expression:"!resultMapping.partial"}],attrs:{icon:"swap_horiz"},nativeOn:{click:function(e){return t.swap(e)}}})],1),n("ConverterText",{attrs:{source:t.source,mapping:t.sourceMapping},on:{result:function(e){t.intermediate=e}}}),t.showMappings?n("MappingTable",{attrs:{mapping:t.sourceMapping}}):t._e()],1),n("div",{staticClass:"col"},[n("div",{staticClass:"row"},[n("Select",{staticClass:"flex",attrs:{value:t.resultMapping,items:t.mappings,display:"name"},on:{"update:value":function(e){t.resultMapping=e}}}),n("Button",{attrs:{value:t.showMappings,icon:"visibility"},on:{"update:value":function(e){t.showMappings=e}}}),n("Button",{attrs:{icon:"file_copy"},nativeOn:{click:function(e){return t.copy(e)}}})],1),n("ConverterText",{attrs:{readonly:!0,source:t.intermediate,mapping:t.resultMapping,reverse:!0},on:{result:function(e){t.result=e}}}),t.showMappings?n("MappingTable",{attrs:{mapping:t.resultMapping,reverse:!0}}):t._e()],1)]):n("h2",[t._v("No data for this lect.")]),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file",attrs:{type:"file",accept:".txt"},on:{change:t.upload}}),n("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"link"})],1):t._e()},jn=[],En=(n("a623"),n("9911"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.many?n("div",{staticClass:"row scroll"},t._l(t.keys,(function(e,i){return n("Button",{key:i,staticClass:"small round",class:{highlight:t.value==t.items[i]},attrs:{text:e},nativeOn:{click:function(e){return t.select(i)}}})})),1):t._e()}),Nn=[],An={name:"ChipsSelect",components:{Button:f},props:["value","items","itemKey"],model:{prop:"value",event:"select"},computed:{keys:function(){var t=this;return this.itemKey?this.items.map((function(e){return e[t.itemKey]})):this.items},many:function(){return this.keys.length>1}},watch:{value:{handler:function(){this.value||this.select(0)},immediate:!0}},methods:{select:function(t){this.$emit("select",this.items[t])}}},Mn=An,Jn=Object(p["a"])(Mn,En,Nn,!1,null,null,null),Tn=Jn.exports,Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pairs.length>0?n("div",{staticClass:"card row-1 wrap"},t._l(t.pairs,(function(e,i){return n("p",{key:i},[n("span",{staticClass:"text-faded"},[t._v(t._s(e[t.left].replace(" ","_")))]),n("span",[t._v(t._s(e[t.right].replace(" ","_")))])])})),0):t._e()},Ln=[],qn={name:"MappingTable",props:["mapping","reverse"],computed:{pairs:function(){return this.mapping.pairs},left:function(){return this.reverse?1:0},right:function(){return this.reverse?0:1}}},zn=qn,In=(n("fa16"),Object(p["a"])(zn,Hn,Ln,!1,null,"2c434e6e",null)),Qn=In.exports,Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"textarea",attrs:{readonly:t.readonly},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})},Fn=[],Rn=(n("fb6a"),n("498a"),n("b85c")),Un={name:"ConverterText",props:["source","mapping","readonly","reverse"],data:function(){return{text:"",result:""}},computed:{pairs:function(){return this.reverse?this.mapping.pairs.map((function(t){return[t[1],t[0]]})):this.mapping.pairs},reversePairs:function(){return this.pairs.map((function(t){return[t[1],t[0]]}))}},watch:{source:{handler:function(){this.text=this.readonly?this.convert(this.source,this.pairs):this.source},immediate:!0},text:{handler:function(){this.result=this.readonly?this.text:this.convert(this.text,this.pairs),this.$emit("result",this.result)},immediate:!0},pairs:{handler:function(){this.text=this.readonly?this.convert(this.source,this.pairs):this.convert(this.result,this.reversePairs)},deep:!0,immediate:!0}},methods:{capitalize:function(t){var e="",n=0;return" "==t.charAt(0)&&(e=" ",n=1),e+t.charAt(n).toUpperCase()+t.slice(n+1)},convert:function(t,e){if(!e||0===e.length)return t;t=" "+t.replace(/\n/g,"\n ").trim();for(var n="",i=0;i<t.length;){var o,s=!1,a=Object(Rn["a"])(e);try{for(a.s();!(o=a.n()).done;){for(var r=Object(mt["a"])(o.value,2),c=r[0],l=r[1],u=c.length,d=t.substring(i,i+u),p=[[c,l],[this.capitalize(c),this.capitalize(l)],[c.toUpperCase(),l.toUpperCase()]],h=0,f=p;h<f.length;h++){var v=Object(mt["a"])(f[h],2),m=v[0],g=v[1];if(d===m){s=!0,n+=g,i+=u;break}}if(s)break}}catch(x){a.e(x)}finally{a.f()}s||(n+=t[i],i++)}return n.replace(/\n /g,"\n").trim()}}},Yn=Un,Kn=(n("6039"),Object(p["a"])(Yn,Dn,Fn,!1,null,"24191da8",null)),Gn=Kn.exports,Zn={name:"Converter",components:{Button:f,Select:rt,ChipsSelect:Tn,MappingTable:Qn,ConverterText:Gn},data:function(){return{lect:void 0,source:"",sourceMapping:void 0,result:"",resultMapping:void 0,intermediate:"",showMappings:!1}},computed:{lects:function(){return this.$store.state.lects},converter:function(){var t;return null===(t=this.lect)||void 0===t?void 0:t.converter},mappings:function(){var t;return null===(t=this.converter)||void 0===t?void 0:t.mappings},fullMappings:function(){return this.mappings.filter((function(t){return t.pairs.every((function(e){return e==t.pairs.find((function(t){return t[0]==e[0]}))}))}))},sample:function(){var t,e;return null!==(t=null===(e=this.converter)||void 0===e?void 0:e.sample)&&void 0!==t?t:""},defaultConversion:function(){var t;return null===(t=this.converter)||void 0===t?void 0:t.default}},watch:{mappings:function(t){t&&(this.sourceMapping=t[0],this.resultMapping=t[1])},sample:function(t){this.source=t},defaultConversion:function(t){t&&(this.sourceMapping=this.mappings[t[0]],this.resultMapping=this.mappings[t[1]])}},methods:{displaySample:function(){var t=this,e=this.sourceMapping;this.sourceMapping=this.mappings[this.defaultConversion[0]],this.source=this.sample,this.$nextTick((function(){t.sourceMapping=e}))},swap:function(){var t=this.result,e=this.sourceMapping;this.sourceMapping=this.resultMapping,this.resultMapping=e,this.source=t},upload:function(t){var e=this,n=new FileReader;n.onload=function(n){return e.download(t.target.files[0].name,e.convert(n.target.result))},n.readAsText(t.target.files[0])},download:function(t,e){var n=this.$refs.link;n.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),n.download=t,n.click()},copy:function(){navigator.clipboard.writeText(this.result)}}},Wn=Zn,Vn=(n("04dd"),Object(p["a"])(Wn,Bn,jn,!1,null,"65382c7c",null)),Xn=Vn.exports,ti=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.lects&&t.phrasebook?n("div",{staticClass:"section col-1"},[n("div",{staticClass:"col-1"},[n("div",{staticClass:"row"},[n("Button",{attrs:{value:t.searching,icon:"search"},on:{"update:value":function(e){t.searching=e}}}),t.searching?n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"flex",attrs:{type:"text",placeholder:"Search all phrases..."},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}):n("h2",{staticClass:"col-1 flex"},[n("Select",{attrs:{value:t.section,items:t.phrasebook,display:"name"},on:{"update:value":function(e){t.section=e}}})],1)],1),t.phrases?[t.searching?n("div",{staticClass:"col-1 scroll"},t._l(t.phrases,(function(e,i){return n("div",{key:i,staticClass:"col"},[n("h2",[t._v(t._s(t.phrasebook[i].name))]),n("div",{staticClass:"col-0"},t._l(e,(function(e){return n("Button",{key:e,class:{highlight:t.phrase==t.phrasebook[i].phrases[e]},attrs:{text:t.phrasebook[i].phrases[e].preview},nativeOn:{click:function(n){return t.select(i,e)}}})})),1)])})),0):n("List",{staticClass:"scroll",attrs:{value:t.phrase,items:t.phrases,display:"preview"},on:{"update:value":function(e){t.phrase=e}}})]:t._e()],2),t.phrase?n("div",{staticClass:"col-1"},[n("div",{staticClass:"row scroll small"},[n("Button",{staticClass:"round",attrs:{value:t.showNotes,icon:"sticky_note_2",text:"Notes"},on:{"update:value":function(e){t.showNotes=e}}}),n("Button",{staticClass:"round",attrs:{value:t.showSource,icon:"short_text",text:"Source"},on:{"update:value":function(e){t.showSource=e}}}),n("Button",{staticClass:"round",attrs:{value:t.interactive,icon:"tune",text:"Interactive"},on:{"update:value":function(e){t.interactive=e}}}),n("Button",{staticClass:"round",attrs:{value:t.glossed,icon:"layers",text:"Glossed"},on:{"update:value":function(e){t.glossed=e}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSource,expression:"showSource"}],staticClass:"col-1 wrap card"},[t.interactive?n("PhraseContext",{attrs:{context:t.context}}):t._e(),n("div",{staticClass:"row wrap"},t._l(t.phrase.blocks,(function(e,i){return n("PhraseBlock",{key:i,attrs:{id:t.selected,context:t.context,interactive:t.interactive,block:e},on:{"update:context":function(e){t.context=e}}})})),1)],1),t._l(t.translations,(function(e,i){return n("PhraseTranslation",{key:i,attrs:{id:t.selected,context:t.context,lect:t.lects[i].name,translation:e,interactive:t.interactive,glossed:t.glossed,showNotes:t.showNotes},on:{"update:context":function(e){t.context=e}}})}))],2):t._e()]):t._e()},ei=[],ni=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-0"},t._l(t.values,(function(e,i){return n("Button",{key:i,class:{highlight:t.value==e},attrs:{text:t.text[i]},nativeOn:{click:function(n){return t.select(e)}}})})),1)},ii=[],oi=n("53ca"),si={name:"List",components:{Button:f},props:["value","items","indexed","display"],computed:{text:function(){var t=this;return this.display?"object"==Object(oi["a"])(this.display)?this.display:this.items.map((function(e){return e[t.display]})):this.items},values:function(){return this.indexed?this.items.map((function(t,e){return e})):this.items}},watch:{items:{handler:function(){this.items&&!this.value&&this.select(this.values[0])},immediate:!0}},methods:{select:function(t){this.$emit("update:value",t)}}},ai=si,ri=Object(p["a"])(ai,ni,ii,!1,null,null,null),ci=ri.exports,li=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.translation?n("div",{staticClass:"col-1 card"},[n("div",{staticClass:"row-1 small"},[n("Button",{attrs:{icon:"content_copy"},nativeOn:{click:function(e){return t.copy(e)}}}),n("h2",[t._v(t._s(t.lect))])],1),t.interactive?n("PhraseContext",{attrs:{context:t.context,translation:t.translation.context,blocks:t.$refs.blocks}}):t._e(),n("div",{staticClass:"row wrap flex"},t._l(t.translation.blocks,(function(e,i){return n("PhraseBlock",{key:i,ref:"blocks",refInFor:!0,attrs:{id:t.id,context:t.context,interactive:t.interactive,glossed:t.glossed,block:e},on:{"update:context":function(e){return t.$emit("update:context",e)}}})})),1),t.showNotes?t._l(t.translation.notes,(function(t,e){return n("PhoneticNote",{key:e,attrs:{text:t}})})):t._e()],2):t._e()},ui=[],di={name:"PhraseTranslation",components:{Button:f,PhraseContext:qt,PhraseBlock:At,PhoneticNote:mn},props:["id","lect","context","translation","interactive","glossed","showNotes"],computed:{text:function(){var t;return null===(t=this.$refs.blocks)||void 0===t?void 0:t.filter((function(t){return t.visible})).map((function(t){return t.$refs.display.text})).join(" ")}},methods:{copy:function(){navigator.clipboard.writeText(this.text)}}},pi=di,hi=(n("2643"),Object(p["a"])(pi,li,ui,!1,null,"4c0b15b4",null)),fi=hi.exports,vi={name:"Phrasebook",components:{Button:f,Select:rt,List:ci,PhraseContext:qt,PhraseBlock:At,PhraseTranslation:fi},data:function(){return{section:void 0,phrase:void 0,context:void 0,interactive:!1,glossed:!1,showNotes:!1,showSource:!0,searching:!1,query:""}},computed:{lects:function(){return this.$store.state.lects},phrasebook:function(){return this.$store.state.phrasebook},phrases:function(){var t,e=this;return this.searching?this.phrasebook.reduce((function(t,n,i){return t[i]=n.phrases.map((function(t,e){return[t,e]})).filter((function(t){return t[0].preview.includes(e.query)})).map((function(t){return t[1]})),t[i].length||delete t[i],t}),{}):null===(t=this.section)||void 0===t?void 0:t.phrases},translations:function(){var t=this;return this.lects.map((function(e){var n=e.phrasebook;return n?n[t.phrase.id]:null}))}},watch:{phrasebook:{handler:function(){this.phrasebook&&(this.selected=localStorage.phrase)},immediate:!0},phrase:{handler:function(){var t,e,n;this.context=null!==(t=null===(e=this.phrase)||void 0===e||null===(n=e.context)||void 0===n?void 0:n.reduce((function(t,e){var n=e.entity;return t[n]=new Set,t}),{}))&&void 0!==t?t:{}},immediate:!0}},destroyed:function(){localStorage.phrase=this.selected},methods:{select:function(t,e){this.section=this.phrasebook[t],this.phrase=this.section.phrases[e]}}},mi=vi,gi=(n("84ea"),Object(p["a"])(mi,ti,ei,!1,null,"229aac7d",null)),xi=gi.exports,bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.catalogue?n("div",{attrs:{id:"root"}},[n("div",{attrs:{id:"map"}},[n("LectsMap",{attrs:{catalogue:t.catalogue,selected:t.selected,visible:t.visible},on:{toggle:t.toggleLect}})],1),n("div",{staticClass:"col-1",attrs:{id:"ui"}},[n("div",{staticClass:"col-1 card",attrs:{id:"top"}},[n("div",{staticClass:"row-1"},[n("Button",{attrs:{value:t.about,icon:"info"},on:{"update:value":function(e){t.about=e}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"flex",attrs:{type:"text",placeholder:"Search languages..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),n("Button",{attrs:{icon:"arrow_forward",disabled:t.empty},nativeOn:{click:function(e){return t.load(e)}}})],1),n("div",{staticClass:"row scroll-hidden"},[t.empty?n("p",{attrs:{id:"placeholder"}},[t._v(" Click on the map or use the input field above. ")]):t._e(),t._l(t.lects,(function(e,i){return n("Button",{key:i,staticClass:"small round",attrs:{text:e.name},nativeOn:{click:function(n){return t.toggleLect(e)}}})}))],2)]),n("div",{staticClass:"col-1 scroll"},[t.about?n("div",{staticClass:"col-1 card text-center",attrs:{id:"about"}},[n("h1",[t._v("vzag")]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.quote,expression:"quote"}]},[t._v(t._s(t.quote))]),n("div",{staticClass:"row-1 wrap center"},[n("router-link",{attrs:{to:"/editor/phonology"}},[t._v("Editor tools")]),n("a",{attrs:{href:"https://github.com/alkaitagi/Avzag#contacts"}},[t._v("Contacts")]),n("a",{attrs:{href:"https://github.com/alkaitagi/Avzag#credits"}},[t._v("Credits")]),n("a",{attrs:{href:"https://github.com/alkaitagi/Avzag"}},[t._v("GitHub")])],1)]):t._e(),t._l(t.catalogue,(function(e,i){return n("LectCard",{key:i,attrs:{lect:e,selected:t.selected[i],query:t.query},on:{visible:function(n){return t.setVisibility(e,n)}},nativeOn:{click:function(n){return t.toggleLect(e)}}})}))],2)])]):t._e()},yi=[],ki=(n("841c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("l-map",{ref:"map",attrs:{center:t.center,zoom:t.zoom,options:{zoomControl:!1}},on:{"update:center":function(e){t.center=e},"update:zoom":function(e){t.zoom=e}}},[n("l-tile-layer",{attrs:{url:t.layerUrl,options:t.layerOptions}}),t._l(t.catalogue,(function(e,i){return[e.coordinates?n("l-marker",{key:i,attrs:{"lat-lng":e.coordinates},on:{click:function(n){return t.$emit("toggle",e)}}},[n("l-icon",{attrs:{"icon-anchor":[0,0]}},[n("div",{staticClass:"marker",class:"zoom-"+t.zoom},[n("div",{staticClass:"icon",class:{selected:t.selected[i]}},[t._v(" expand_less ")]),n("h2",{class:{"text-faded":t.faded[i],selected:!t.faded[i]&&t.selected[i]}},[t._v(" "+t._s(e.name)+" ")])])])],1):t._e()]}))],2)}),_i=[],wi=n("2699"),Ci=n("a40a"),Oi=n("4e2b"),Si=n("fbba"),Pi={name:"LectsMap",components:{LMap:wi["a"],LTileLayer:Ci["a"],LMarker:Oi["a"],LIcon:Si["a"]},props:["catalogue","selected","visible"],data:function(){return{center:null,zoom:null,options:{zoomControl:!1},layerUrl:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/{z}/{x}/{y}?access_token={accessToken}",layerOptions:{attribution:'<a href="https://www.openstreetmap.org/">OpenStreetMap</a> | <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> | <a href="https://www.mapbox.com/">Mapbox</a>',tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYWxrYWl0YWdpIiwiYSI6ImNrZngwYTlqZjA1Mm4ycm5rcW94YmV4bHoifQ.c--QtLURoBAPTqqrLGZ0qQ"}}},computed:{faded:function(){var t,e=this;return(null===(t=this.visible)||void 0===t?void 0:t.length)?this.catalogue.map((function(t){return!e.visible.includes(t)})):[]}},created:function(){var t,e;this.center=JSON.parse(null!==(t=localStorage.mapCenter)&&void 0!==t?t:"[43, 44]"),this.zoom=JSON.parse(null!==(e=localStorage.mapZoom)&&void 0!==e?e:"7"),this.setupTheming()},destroyed:function(){localStorage.mapCenter=JSON.stringify(this.center),localStorage.mapZoom=JSON.stringify(this.zoom)},methods:{setupTheming:function(){var t=this,e=function(e){return t.layerUrl="https://api.mapbox.com/styles/v1/mapbox/".concat(e,"-v10/tiles/{z}/{x}/{y}?access_token={accessToken}")};window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&e("dark"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){e(t.matches?"dark":"light")}))}}},$i=Pi,Bi=(n("0d7c"),n("f9c3"),Object(p["a"])($i,ki,_i,!1,null,"427deaaf",null)),ji=Bi.exports,Ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"row-1 card"},[n("div",{staticClass:"col-0"},[n("h1",{class:{selected:t.selected}},[t._v(t._s(t.lect.name))]),n("p",{staticClass:"text-caption"},t._l(t.lect.family,(function(e){return n("span",{key:e,staticClass:"text-dot",attrs:{split:""}},[t._v(" "+t._s(e)+" ")])})),0)]),n("img",{attrs:{src:t.flag}})]):t._e()},Ni=[],Ai={name:"LectCard",props:["lect","selected","query"],computed:{family:function(){return this.lect.family.join("  ")},flag:function(){return this.$store.state.root+this.lect.name+"/flag.png"},tags:function(){return[this.lect.name,this.lect.tags,this.lect.family.join(" ")].join(" ").toLowerCase()},visible:function(){var t,e=this;return null===(t=this.query)||void 0===t?void 0:t.every((function(t){return e.tags.includes(t)}))}},watch:{visible:function(){this.$emit("visible",this.visible)}}},Mi=Ai,Ji=(n("db16"),Object(p["a"])(Mi,Ei,Ni,!1,null,"5f481401",null)),Ti=Ji.exports,Hi={name:"Home",components:{LectsMap:ji,LectCard:Ti,Button:f},data:function(){return{about:!1,search:"",lects:void 0,visible:[]}},computed:{catalogue:function(){return this.$store.state.catalogue},empty:function(){var t;return!(null===(t=this.lects)||void 0===t?void 0:t.length)},query:function(){return this.search?this.search.toLowerCase().split(" "):null},selected:function(){var t,e=this;return null===(t=this.catalogue)||void 0===t?void 0:t.map((function(t){return e.lects.includes(t)}))},quote:function(){var t;return null===(t=this.lects[this.lects.length-1])||void 0===t?void 0:t.quote}},watch:{catalogue:{handler:function(){var t=this;if(this.catalogue)try{var e;this.lects=null===(e=JSON.parse(localStorage.lects))||void 0===e?void 0:e.map((function(e){return t.catalogue.find((function(t){return t.name==e}))}))}catch(n){this.lects=[]}},immediate:!0}},destroyed:function(){localStorage.lects=JSON.stringify(this.lects.map((function(t){return t.name})))},methods:{toggleLect:function(t){var e=this.lects.indexOf(t);e<0?this.lects.push(t):this.lects.splice(e,1)},setVisibility:function(t,e){var n=this.visible.indexOf(t);n<0?e&&this.visible.push(t):e||this.visible.splice(n,1)},load:function(){this.$store.dispatch("loadLects",this.lects.map((function(t){return t.name}))),this.$router.push({name:"Phonology"})}}},Li=Hi,qi=(n("c7de"),Object(p["a"])(Li,bi,yi,!1,null,"7290b7e2",null)),zi=qi.exports;i["a"].use(w["a"]);var Ii=[{path:"/",name:"Home",component:zi},{path:"/editor/phonology/",name:"PhonologyEditor",component:X},{path:"/editor/converter/",name:"ConverterEditor",component:dt},{path:"/editor/phrasebook/",name:"PhrasebookEditor",component:Oe},{path:"/editor/phrasebook/corpus/",name:"PhrasebookCorpusEditor",component:Le},{path:"/phonology/",name:"Phonology",component:$n},{path:"/converter/",name:"Converter",component:Xn},{path:"/phrasebook/",name:"Phrasebook",component:xi},{path:"*",redirect:{name:"Home"}}],Qi=new w["a"]({routes:Ii}),Di=Qi,Fi=n("9483");Object(Fi["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("07ac"),n("96cf");var Ri=n("1da1"),Ui=n("2f62");i["a"].use(Ui["a"]);var Yi=function(t,e){var n,i="",o=Object(Rn["a"])(e.primary);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(t.includes(s.ipa)){i+=s.tags;break}}}catch(l){o.e(l)}finally{o.f()}var a,r=Object(Rn["a"])(e.secondary);try{for(r.s();!(a=r.n()).done;){var c=a.value;t.includes(c.ipa)&&(i+=" "+c.tags)}}catch(l){r.e(l)}finally{r.f()}return i},Ki=new Ui["a"].Store({state:{root:"/lects/",ipa:void 0,catalogue:void 0,phrasebook:void 0,lects:void 0,phonemes:void 0},mutations:{setState:function(t,e){var n=Object(mt["a"])(e,2),i=n[0],o=n[1];t[i]=o}},actions:{initialize:function(t){return Object(Ri["a"])(regeneratorRuntime.mark((function e(){var n,i,o,s,a,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.dispatch,i=t.commit,o=t.state,s=0,a=["ipa","catalogue","phrasebook"];case 2:if(!(s<a.length)){e.next=11;break}return r=a[s],e.next=6,n("loadJson",o.root+r+".json");case 6:c=e.sent,i("setState",[r,c]);case 8:s++,e.next=2;break;case 11:case"end":return e.stop()}}),e)})))()},loadLects:function(t,e){return Object(Ri["a"])(regeneratorRuntime.mark((function n(){var i,o,s,a,r,c,l,u,d,p,h,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t.dispatch,o=t.commit,s=t.state,a=[],r=Object(Rn["a"])(e),n.prev=3,r.s();case 5:if((c=r.n()).done){n.next=21;break}l=c.value,u=s.root+l+"/",d={name:l},p=0,h=["phonology","phrasebook","converter"];case 10:if(!(p<h.length)){n.next=18;break}return f=h[p],n.next=14,i("loadJson",u+f+".json");case 14:d[f]=n.sent;case 15:p++,n.next=10;break;case 18:a.push(d);case 19:n.next=5;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n["catch"](3),r.e(n.t0);case 26:return n.prev=26,r.f(),n.finish(26);case 29:return o("setState",["lects",a]),n.next=32,i("collectPhonemes");case 32:case"end":return n.stop()}}),n,null,[[3,23,26,29]])})))()},collectPhonemes:function(t){return Object(Ri["a"])(regeneratorRuntime.mark((function e(){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,i=t.state,o={},i.lects.forEach((function(t){var e;null===(e=t.phonology)||void 0===e||e.forEach((function(e){var n=e.phoneme;n in o||(o[n]={ipa:n,tags:Yi(n,i.ipa),lects:{}}),o[n]["lects"][t.name]=e}))})),o=Object.values(o),o.sort((function(t,e){return t.ipa>e.ipa?1:e.ipa>t.ipa?-1:0})),n("setState",["phonemes",Object.values(o)]);case 6:case"end":return e.stop()}}),e)})))()},loadJson:function(t,e){return Object(Ri["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e).then((function(t){return t.json()}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},loadText:function(t,e){return Object(Ri["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e).then((function(t){return t.text()}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}});n("6cc5");i["a"].config.productionTip=!1,new i["a"]({router:Di,store:Ki,render:function(t){return t(_)}}).$mount("#app")},d59c:function(t,e,n){"use strict";n("7721")},d8fc:function(t,e,n){},dad5:function(t,e,n){"use strict";n("1531")},db16:function(t,e,n){"use strict";n("9a71")},e076:function(t,e,n){"use strict";n("9537")},e38b:function(t,e,n){},ea1d:function(t,e,n){},eada:function(t,e,n){},ebbb:function(t,e,n){},ec82:function(t,e,n){"use strict";n("0401")},f071:function(t,e,n){"use strict";n("23a1")},f59f:function(t,e,n){},f5d6:function(t,e,n){"use strict";n("d8fc")},f9c3:function(t,e,n){"use strict";n("a3cd")},fa16:function(t,e,n){"use strict";n("48b1")}});
//# sourceMappingURL=app.7146a952.js.map